{"ast":null,"code":"import { API } from \"../../backend\";\n\n//category Calls\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${API}/category/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//update a product\nexport const updateCategory = (categoryId, userId, token, category) => {\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n    // body:category\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//get a category\nexport const getCategory = categoryId => {\n  return fetch(`${API}/category/${categoryId}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//getAllCategories\n\nexport const getAllCategories = () => {\n  return fetch(`${API}/categories`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//delete a Category\nexport const deleteCategory = (categoryId, userId, token) => {\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//product Calls\n//creating a product\nexport const createProduct = (userId, token, product) => {\n  return fetch(`${API}/product/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//getting all products\nexport const getAllProducts = () => {\n  return fetch(`${API}/products`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//delete a product\nexport const deleteProduct = (productId, userId, token) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\n//get a product\n// export const getProduct = productId =>{\n//     return fetch(`${API}/product/${productId}`,{\n//         method:\"GET\",\n// }).then(response => {\n//     return response.json()\n// })\n// .catch(err =>console.log(err))\n// }\n\nexports.getAllProducts = (req, res) => {\n  // Set default values for page and limit\n  let page = req.query.page || 1;\n  let limit = req.query.limit || 8;\n  let skip = (page - 1) * limit;\n\n  // Find all products from the database\n  Product.find().select(\"-photo\").populate(\"category\").sort([[sortBy, order]]).skip(skip).limit(limit).exec((err, products) => {\n    if (err) {\n      return res.status(400).json({\n        error: \"No products found\"\n      });\n    }\n    res.json(products);\n  });\n};\n\n//update a product\n\nexport const updateProduct = (productId, userId, token, product) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      //important\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["API","createCategory","userId","token","category","fetch","method","headers","Accept","Authorization","body","JSON","stringify","then","response","json","catch","err","console","log","updateCategory","categoryId","getCategory","getAllCategories","deleteCategory","createProduct","product","getAllProducts","deleteProduct","productId","exports","req","res","page","query","limit","skip","Product","find","select","populate","sort","sortBy","order","exec","products","status","error","updateProduct"],"sources":["/Users/srihitha/Desktop/mern/projfrontend/src/admin/helper/adminapicall.js"],"sourcesContent":["import { API } from \"../../backend\";\n\n//category Calls\nexport const createCategory =(userId,token,category)=>{\n    return fetch(`${API}/category/create/${userId}`,{\n        method:\"POST\",\n        headers:{\n        Accept:\"application/json\",\n        \"Content-Type\":\"application/json\",\n        Authorization:`Bearer ${token}`\n    },\n    body:JSON.stringify(category)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err =>console.log(err))\n}\n\n//update a product\nexport const updateCategory = (categoryId,userId,token,category) =>{\n    return fetch(`${API}/category/${categoryId}/${userId}`,{\n        method:\"PUT\",\n        headers:{\n        Accept:\"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization:`Bearer ${token}`\n    },\n    body:JSON.stringify(category)\n    // body:category\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err =>console.log(err))\n}\n\n//get a category\nexport const getCategory = categoryId =>{\n    return fetch(`${API}/category/${categoryId}`,{\n        method:\"GET\",\n}).then(response => {\n    return response.json()\n})\n.catch(err =>console.log(err))\n}\n\n\n//getAllCategories\n\nexport const getAllCategories =() =>{\n    return fetch(`${API}/categories`,{\n        method:\"GET\",\n}).then(response => {\n    return response.json()\n})\n.catch(err =>console.log(err))\n}\n\n//delete a Category\nexport const deleteCategory = (categoryId,userId,token) =>{\n    return fetch(`${API}/category/${categoryId}/${userId}`,{\n        method:\"DELETE\",\n        headers:{\n            Accept:\"application/json\",\n            Authorization:`Bearer ${token}`\n        }\n}).then(response => {\n    return response.json()\n})\n.catch(err =>console.log(err))\n}\n\n//product Calls\n//creating a product\nexport const createProduct = (userId,token,product) =>{\n    return fetch(`${API}/product/create/${userId}`,{\n        method:\"POST\",\n        headers:{\n        Accept:\"application/json\",\n        Authorization:`Bearer ${token}`\n    },\n    body:product\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err =>console.log(err))\n}\n\n//getting all products\nexport const getAllProducts =() =>{\n    return fetch(`${API}/products`,{\n        method:\"GET\",\n}).then(response => {\n    return response.json()\n})\n.catch(err =>console.log(err))\n}\n\n//delete a product\nexport const deleteProduct = (productId,userId,token) =>{\n    return fetch(`${API}/product/${productId}/${userId}`,{\n        method:\"DELETE\",\n        headers:{\n            Accept:\"application/json\",\n            Authorization:`Bearer ${token}`\n        }\n}).then(response => {\n    return response.json()\n})\n.catch(err =>console.log(err))\n}\n\n//get a product\n// export const getProduct = productId =>{\n//     return fetch(`${API}/product/${productId}`,{\n//         method:\"GET\",\n// }).then(response => {\n//     return response.json()\n// })\n// .catch(err =>console.log(err))\n// }\n\nexports.getAllProducts = (req, res) => {\n    // Set default values for page and limit\n    let page = req.query.page || 1;\n    let limit = req.query.limit || 8;\n    let skip = (page - 1) * limit;\n  \n    // Find all products from the database\n    Product.find()\n      .select(\"-photo\")\n      .populate(\"category\")\n      .sort([[sortBy, order]])\n      .skip(skip)\n      .limit(limit)\n      .exec((err, products) => {\n        if (err) {\n          return res.status(400).json({\n            error: \"No products found\",\n          });\n        }\n        res.json(products);\n      });\n  };\n  \n\n//update a product\n\nexport const updateProduct = (productId,userId,token,product) =>{\n    return fetch(`${API}/product/${productId}/${userId}`,{\n        method:\"PUT\",\n        headers:{\n        Accept:\"application/json\",    //important\n        Authorization:`Bearer ${token}`\n    },\n    body:product\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err =>console.log(err))\n}\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,eAAe;;AAEnC;AACA,OAAO,MAAMC,cAAc,GAAEA,CAACC,MAAM,EAACC,KAAK,EAACC,QAAQ,KAAG;EAClD,OAAOC,KAAK,CAAE,GAAEL,GAAI,oBAAmBE,MAAO,EAAC,EAAC;IAC5CI,MAAM,EAAC,MAAM;IACbC,OAAO,EAAC;MACRC,MAAM,EAAC,kBAAkB;MACzB,cAAc,EAAC,kBAAkB;MACjCC,aAAa,EAAE,UAASN,KAAM;IAClC,CAAC;IACDO,IAAI,EAACC,IAAI,CAACC,SAAS,CAACR,QAAQ;EAC5B,CAAC,CAAC,CACDS,IAAI,CAACC,QAAQ,IAAI;IACd,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMG,cAAc,GAAGA,CAACC,UAAU,EAACnB,MAAM,EAACC,KAAK,EAACC,QAAQ,KAAI;EAC/D,OAAOC,KAAK,CAAE,GAAEL,GAAI,aAAYqB,UAAW,IAAGnB,MAAO,EAAC,EAAC;IACnDI,MAAM,EAAC,KAAK;IACZC,OAAO,EAAC;MACRC,MAAM,EAAC,kBAAkB;MACzB,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAASN,KAAM;IAClC,CAAC;IACDO,IAAI,EAACC,IAAI,CAACC,SAAS,CAACR,QAAQ;IAC5B;EACA,CAAC,CAAC,CACDS,IAAI,CAACC,QAAQ,IAAI;IACd,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMK,WAAW,GAAGD,UAAU,IAAG;EACpC,OAAOhB,KAAK,CAAE,GAAEL,GAAI,aAAYqB,UAAW,EAAC,EAAC;IACzCf,MAAM,EAAC;EACf,CAAC,CAAC,CAACO,IAAI,CAACC,QAAQ,IAAI;IAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC9B,CAAC;;AAGD;;AAEA,OAAO,MAAMM,gBAAgB,GAAEA,CAAA,KAAK;EAChC,OAAOlB,KAAK,CAAE,GAAEL,GAAI,aAAY,EAAC;IAC7BM,MAAM,EAAC;EACf,CAAC,CAAC,CAACO,IAAI,CAACC,QAAQ,IAAI;IAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC9B,CAAC;;AAED;AACA,OAAO,MAAMO,cAAc,GAAGA,CAACH,UAAU,EAACnB,MAAM,EAACC,KAAK,KAAI;EACtD,OAAOE,KAAK,CAAE,GAAEL,GAAI,aAAYqB,UAAW,IAAGnB,MAAO,EAAC,EAAC;IACnDI,MAAM,EAAC,QAAQ;IACfC,OAAO,EAAC;MACJC,MAAM,EAAC,kBAAkB;MACzBC,aAAa,EAAE,UAASN,KAAM;IAClC;EACR,CAAC,CAAC,CAACU,IAAI,CAACC,QAAQ,IAAI;IAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC9B,CAAC;;AAED;AACA;AACA,OAAO,MAAMQ,aAAa,GAAGA,CAACvB,MAAM,EAACC,KAAK,EAACuB,OAAO,KAAI;EAClD,OAAOrB,KAAK,CAAE,GAAEL,GAAI,mBAAkBE,MAAO,EAAC,EAAC;IAC3CI,MAAM,EAAC,MAAM;IACbC,OAAO,EAAC;MACRC,MAAM,EAAC,kBAAkB;MACzBC,aAAa,EAAE,UAASN,KAAM;IAClC,CAAC;IACDO,IAAI,EAACgB;EACL,CAAC,CAAC,CACDb,IAAI,CAACC,QAAQ,IAAI;IACd,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMU,cAAc,GAAEA,CAAA,KAAK;EAC9B,OAAOtB,KAAK,CAAE,GAAEL,GAAI,WAAU,EAAC;IAC3BM,MAAM,EAAC;EACf,CAAC,CAAC,CAACO,IAAI,CAACC,QAAQ,IAAI;IAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC9B,CAAC;;AAED;AACA,OAAO,MAAMW,aAAa,GAAGA,CAACC,SAAS,EAAC3B,MAAM,EAACC,KAAK,KAAI;EACpD,OAAOE,KAAK,CAAE,GAAEL,GAAI,YAAW6B,SAAU,IAAG3B,MAAO,EAAC,EAAC;IACjDI,MAAM,EAAC,QAAQ;IACfC,OAAO,EAAC;MACJC,MAAM,EAAC,kBAAkB;MACzBC,aAAa,EAAE,UAASN,KAAM;IAClC;EACR,CAAC,CAAC,CAACU,IAAI,CAACC,QAAQ,IAAI;IAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC9B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAa,OAAO,CAACH,cAAc,GAAG,CAACI,GAAG,EAAEC,GAAG,KAAK;EACnC;EACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,KAAK,CAACD,IAAI,IAAI,CAAC;EAC9B,IAAIE,KAAK,GAAGJ,GAAG,CAACG,KAAK,CAACC,KAAK,IAAI,CAAC;EAChC,IAAIC,IAAI,GAAG,CAACH,IAAI,GAAG,CAAC,IAAIE,KAAK;;EAE7B;EACAE,OAAO,CAACC,IAAI,EAAE,CACXC,MAAM,CAAC,QAAQ,CAAC,CAChBC,QAAQ,CAAC,UAAU,CAAC,CACpBC,IAAI,CAAC,CAAC,CAACC,MAAM,EAAEC,KAAK,CAAC,CAAC,CAAC,CACvBP,IAAI,CAACA,IAAI,CAAC,CACVD,KAAK,CAACA,KAAK,CAAC,CACZS,IAAI,CAAC,CAAC3B,GAAG,EAAE4B,QAAQ,KAAK;IACvB,IAAI5B,GAAG,EAAE;MACP,OAAOe,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAAC/B,IAAI,CAAC;QAC1BgC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;IACAf,GAAG,CAACjB,IAAI,CAAC8B,QAAQ,CAAC;EACpB,CAAC,CAAC;AACN,CAAC;;AAGH;;AAEA,OAAO,MAAMG,aAAa,GAAGA,CAACnB,SAAS,EAAC3B,MAAM,EAACC,KAAK,EAACuB,OAAO,KAAI;EAC5D,OAAOrB,KAAK,CAAE,GAAEL,GAAI,YAAW6B,SAAU,IAAG3B,MAAO,EAAC,EAAC;IACjDI,MAAM,EAAC,KAAK;IACZC,OAAO,EAAC;MACRC,MAAM,EAAC,kBAAkB;MAAK;MAC9BC,aAAa,EAAE,UAASN,KAAM;IAClC,CAAC;IACDO,IAAI,EAACgB;EACL,CAAC,CAAC,CACDb,IAAI,CAACC,QAAQ,IAAI;IACd,OAAOA,QAAQ,CAACC,IAAI,EAAE;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAClC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}